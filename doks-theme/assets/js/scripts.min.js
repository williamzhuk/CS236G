!function(i){"use strict";i.fn.reduce=function(n,e){var r=this,l=e;return r.each(function(e,t){l=n.call(t,l,t,e,r)}),l},i(":header[id]").each(function(){var e=i(this);e.html('<a href="#'+e.attr("id")+'" class="title-anchor-link">#</a> '+e.html())});function n(e,t){if(!t.$el.length||!1===t.level)return e;if(e.length<1)return[t];var n=e[e.length-1].level;return t.level>n?e[e.length-1].childrens.push(t):e.push(t),e}var e=i(":header[id]").reduce(function(e,t){var n,r,l={childrens:[]};return l.$el=i(t),l.level=(n=l.$el,!(!(r=n.prop("tagName").toLowerCase())||-1===["h1","h2","h3","h4","h5","h6"].indexOf(r))&&parseInt(r.replace("h",""),10)),l.$el.length&&!1!==l.level&&e.push(l),e},[]),r=function(e){var t;for(e=e.reduce(n,[]),t=0;t<e.length;t+=1)e[t].childrens&&e[t].childrens.length&&(e[t].childrens=r(e[t].childrens));return e},o=function(e,t){var n,r,l=i("<ul></ul>");for(l.addClass("level-"+e[0].level),!0===t&&l.addClass("nav"),n=0;n<e.length;n+=1)(r=i("<li></li>")).append('<a href="#'+e[n].$el.attr("id")+'">'+e[n].$el.text().replace(/^#\ /,"")+"</a>"),e[n].childrens&&e[n].childrens.length&&(r.append(o(e[n].childrens)),r.addClass("has-submenu")),l.append(r);return l};e.length&&(e=r(e),o(e,!0).appendTo(".js-sections")),i(".js-smooth-scroll").click(function(){return i("html, body").animate({scrollTop:i(i(this).attr("href")).offset().top},1200),!1});function t(){i(".sections-list").css("width",i(".sections-list-wrapper").width())}t(),i(window).on("resize",t),i(window).on("load",function(){i(".js-affix").affix({offset:{top:function(){return this.top=i(".hero-subheader").outerHeight(!0)+i(".frontpage-gif").outerHeight(!0)},bottom:function(){return this.bottom=i(".js-footer-area").outerHeight(!0)+80}}})}),i(".offcanvas-toggle").on("click",function(){i("body").toggleClass("offcanvas-expanded")})}(jQuery);